(window["webpackJsonp_limitless"]=window["webpackJsonp_limitless"]||[]).push([["chunk-1cef9b5b"],{"0eaa":function(t,e,n){"use strict";n.r(e);n("d81d");var a=n("7a23"),r=Object(a["m"])("br",null,null,-1),c=Object(a["m"])("br",null,null,-1),s=Object(a["l"])("开始离线"),u=Object(a["m"])("h2",null,"离线状态查看",-1),l=Object(a["m"])("br",null,null,-1),o=Object(a["l"])("停止");function i(t,e,n,i,b,f){var p=Object(a["G"])("a-select-option"),m=Object(a["G"])("a-select"),j=Object(a["G"])("a-button"),O=Object(a["G"])("a-col"),h=Object(a["G"])("a-row");return Object(a["B"])(),Object(a["j"])(a["b"],null,[r,c,Object(a["m"])(h,null,{default:Object(a["Q"])((function(){return[Object(a["R"])(Object(a["m"])(O,{offset:1,style:{"font-size":"0.15rem"}},{default:Object(a["Q"])((function(){return[Object(a["m"])(m,{"label-in-value":"",ref:"select",style:{width:"300px"},size:"small",onChange:t.handleChange,placeholder:"请选择地图"},{default:Object(a["Q"])((function(){return[(Object(a["B"])(!0),Object(a["j"])(a["b"],null,Object(a["F"])(t.map.mapinfo,(function(t){return Object(a["B"])(),Object(a["j"])(p,{key:t.mapName,value:t.mapId},{default:Object(a["Q"])((function(){return[Object(a["l"])(Object(a["I"])(t.mapName+t.minLv+"-"+t.maxLv),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["onChange"]),Object(a["m"])(j,{type:"primary","html-type":"submit",onClick:t.start_offline},{default:Object(a["Q"])((function(){return[s]})),_:1},8,["onClick"])]})),_:1},512),[[a["N"],t.visiable.visiable]]),Object(a["R"])(Object(a["m"])(O,{offset:1,style:{"font-size":"0.15rem"},align:"left"},{default:Object(a["Q"])((function(){return[u,Object(a["m"])("h1",null,"开始时间："+Object(a["I"])(t.offlinestatus.status.start_time),1),Object(a["m"])("h1",null,"总经验："+Object(a["I"])(t.offlinestatus.status.exp_total),1),Object(a["m"])("h1",null," 战斗场次/胜利场次："+Object(a["I"])(t.offlinestatus.status.battle_total)+"/"+Object(a["I"])(t.offlinestatus.status.victory_total),1),Object(a["m"])("h1",null,"获得物品总数："+Object(a["I"])(t.offlinestatus.status.goods_total),1),Object(a["m"])("h1",null,"真实经验总数："+Object(a["I"])(t.offlinestatus.status.start_exp),1),l,Object(a["m"])(j,{type:"primary","html-type":"submit",onClick:t.stop_offline},{default:Object(a["Q"])((function(){return[o]})),_:1},8,["onClick"])]})),_:1},512),[[a["N"],!t.visiable.visiable]])]})),_:1})],64)}n("380f");var b=n("f64c"),f=(n("96cf"),n("1da1")),p=n("365c"),m=n("5502"),j=n("a18c"),O=Object(a["n"])({setup:function(){var t=Object(m["b"])(),e=Object(a["D"])({status:{}}),n=Object(a["D"])({visiable:!0}),r=t.state.account.currentAccount,c=Object(a["D"])({mapinfo:[],mapchoosed:0}),s=function(t){c.mapchoosed=t.value},u=Object(a["D"])({chara_id:"aa",map_id:11,battle_type:1}),l=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p["a"].taskStatus(r.charaId);case 3:a=t.sent,0==a.status?(n.visiable=!1,e.status=a.data,e.status.start_time=h(e.status.start_time)):n.visiable=!0,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p["b"].queryMapList();case 3:e=t.sent,c.mapinfo=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,u.chara_id=r.charaId,u.map_id=c.mapchoosed-1+1,t.next=5,p["a"].taskStart(u);case 5:e=t.sent,console.log(e),b["a"].info("离线战斗已开始！"),l(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p["a"].taskStop(r.charaId);case 3:e=t.sent,console.log(e),b["a"].info("离线战斗已停止！"),l(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),h=function(t){var e="",n=60,a=60*n,r=24*a,c=30*r,s=(new Date).getTime()/1e3,u=s-t;if(!(u<0)){var l=u/c,o=u/(7*r),i=u/r,b=u/a,f=u/n;return e=l>=1?parseInt(l)+"月前":o>=1?parseInt(o)+"周前":i>=1?parseInt(i)+"天前":b>=1?parseInt(b)+"小时前":f>=1?parseInt(f)+"分钟前":"刚刚",e}};return r.charaId?(console.log("111"),o(),l(),console.log(n)):(b["a"].info("请先登录!或设为当前账号！"),j["a"].push("/welcome")),{map:c,queryMapList:o,visiable:n,battleForm:u,start_offline:i,stop_offline:O,handleChange:s,offlinestatus:e,checkstatus:l}},name:"offline"});O.render=i;e["default"]=O},d81d:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").map,c=n("1dde"),s=n("ae40"),u=c("map"),l=s("map");a({target:"Array",proto:!0,forced:!u||!l},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-1cef9b5b.79a08091.js.map